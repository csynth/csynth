<!DOCTYPE html>
<html>
    <head>
        <title>Mutator Demos</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>Mutator group web demos</h1>
        <h2>Oxford Creative Machine</h2>
        <ul style="font-size:150%">
            <li><a href="threek.html?tadkinscript">Kinect script version</a></li>
            <li><a href="threek.html?tadmutnoiseimage">tad+mutate dual system; with noise/image/form</a></li>
            <li><a href="threek.html?imfind">automatic mutation, to find an image</a>
                Mutate the 'standard' object attempting to match an image.
            </li>
        </ul>

        <p>This launches various Mutator group WebGL and WebVR based demos.
        It does not include non web-based systems such as Vortex and FoldSynth.</p>
        <p>Use <b>alt,leftarrow</b> to return to this menu from any chosen item; or hit <b>F11</b> to see standard browser window.</p>
        <h3><a href="threek.html?standard">Organic horns</a></h3>
		<p>Organic horns as used in William's exhibition.  These do heavy geometry on the graphics card.
		This allows us to generate complex forms in realtime on fairly high end machines,
		but may cause problems on laptops with low end or no dedicated graphics card.</p>
		<p>The shape may be changed using mutation or sliders,
		but changes to the underlying rules require a shader recompile, which takes a second or two.</p>

        <ul>
            <li><a href="threek.html?mutate">standard mutation</a>
                Mutate the 'standard' object.
            </li>
            <li><a href="threek.html?mutate1200">standard mutation, reduce to 1200 horns</a>
                Mutate the 'standard' object.
            </li>
            <li><a href="threek.html?imfind">automatic mutation, to find an image</a>
                Mutate the 'standard' object attempting to match an image.
            </li>
            <li><a href="threek.html?lima">Lima single fullscreen version</a>
                Lima version, mutation with resting piste etc
                <br>Only one mouse button active and other simplificiations from full mutate
            </li>
            <li><a href="threek.html?limaprojector">Lima projector screen version</a>
                The 'full' Lima version covers two screens completely. Launched on standard Chrome/Edge it will not use the full height.
                <br>Not actaully used in Lima in the end.
            </li>
            <li><a href="threek.html?startvr">Organic horns Virtual Reality</a>
                Organic horns as used in VR exhibition.  These do heavy geometry on the graphics card and need VR eqipment.
                In a suitable browser it should enter VR mode automatically.
            </li>

            <li><a href="threek.html">Organic horns simple version</a>
                Organic horns with a simple starter object.
            </li>
        </ul>

        <h4>WebXR and three.js debug samples</a></h4>
        <ul>
            <li><a href="https://threejs.org/examples/?q=cubes#webxr_xr_cubes">Three.js VR cubes</a>
                Not our code; here to help debug some WebXR issues.
            </li>
            <li><a href="https://immersive-web.github.io/webxr-samples/immersive-vr-session.html?usePolyfill=0">github immersive webXR tests</a>
                Not our code; here to help debug some WebXR issues.
            </li>
            <li><a href="https://immersive-web.github.io/webxr-samples/">github webXR multiple tests</a>
                Not our code; here to help debug some WebXR issues.
            </li>
        </ul>


        <h3>Organic tadpoles</a></h3>
        <ul>
            <li><a href="threek.html?tadkin">Kinect version</a></li>
            <li><a href="threek.html?tadnoaudio">Kinect version, no audio</a></li>
            <li><a href="threek.html?tadbw">Kinect version, prepare black/white drawings</a></li>
            <li><a href="threek.html?tadcam">Webcam version (w.i.p.)</a></li>
            <li><a href="threek.html?kintadmut">TadKinect+mutate dual system; pending scale fix changes on the Mutate side</a></li>
            <li><a href="threek.html?tadmutnoiseimage">tad+mutate dual system; with noise/image/form</a></li>

            <li><a href="threek.html?tadpomp">Pompidou-like VR version based on current code (broken)</a></li>
            <li><a href=",,/Pomp/threek.html?startobj=tad&startvr">
                Tadpole Pomp version (saved code, Gdrive Pompidou backup extract)
            </a></li>
            <li><a href="http://localhost:8800/gdrive/,,/Pomp/threek.html?startobj=tad&startvr">
                Tadpole Pomp version (saved code, Stephen's gdrive Pompidou backup extract)
            </a></li>
            <li><a href="http://localhost:8800/!d:/temp/organicMutatorPompFri1130/organicart/threek.html?startobj=tad&startvr">
                Tadpole Pomp version (saved code, Stephen's zip/unzip Pompoidou backup)
            </a></li>


            <li><a href="threek.html?startobj=tad-fubu!tadnum=1200">Leeds dance version (broken)</a>
            </li>

            <!-- <li><a href="threek.html?startobj=tad!exhibitionMode&noaudio">Standard tadpoles</a>
                Audio and several other details not working right now ...
            </li> -->


        </ul>

        <h3>'mini' version</h3>
        <ul>
            <li><a href="minicode/test/miniorg.html">minified mini version</a></li>
            <li><a href="minicode/miniorganic.html">debug mini version</a></li>
        </ul>

        <h3>Remote Controls</h3>
        <ul><li><a href="http://localhost:8800/dist/vite/controls.html">Remote control panel</a></li></ul>


        <h3>CSynth various demos</h3>
            <ul>
                <li><a href="csynth.html?york">York virus join the RNA (no outer shell)</a></li>
                <li><a href="csynth.html?startscript=CSynth/data/York/S6-S10_interactions_Edges_for_CSynth.js">York virus (broken Guy Fawkes 2022)</a></li>
                <li><a href="csynth.html?crick">Crick</a>Yeast constrained to shell</li>
                <li><a href="csynth.html?startscript=CrickLots/lotsNoConstraints.js">Crick, image shell</a>Crick contrained to microscope shell</li>
                <li><a href="csynth.html?rsse">Royal Society</a></li>
                <li><a href="csynth.html?startscript=C75X1200/loadtiff.js">C75X1200, mouse fit to image</a>Mouse image data compbined with hic for folding</li>


                <li><a href="csynth.html?newsc2023">Virus: New Scientist Live: 2023</a></li>
                <li><a href="csynth.html?ima">Virus: Institute of Mathematics and its Applications</a></li>
                <li><a href="csynth.html?lowry">Virus: Lowry Gallery</a></li>

                <li><a href="csynth.html?pdb=1emc">Simple PDB iemc</a></li>
                <li><a href="csynth.html?pdb=1cj1">Simple PDB 1cj1</a></li>

            </ul>

        <h3><a href=",,/xyz/xyz.html?startdata=data/4bcufullCA.pdb">Simple virus display and symmetry</a></h3>
        <p>Simple display of virus and dynamics to demonstrate geometry symmetry.</p>

        <h3><a href=",,/xyz/xyz.html?arch">Star Carr</a></h3>
		<p>3d display of Star Car finds and context.</p>
        <ul>
            <li>Extra data files can be loaded from the 'File choice:' dropdown, or by drag/drop from Explorer.</li>
            <li>Display of loaded files can be toggled from the checkboxes in the 'visible:' line.</li>
            <li>Colour and size apply to the last selected set.</li>
        </ul>

        <h3><a href=",,/xyz/xyz.html?startdata=data/mesh.ply">Star Carr 3d flint SLOW</a></h3>
        <p>SLOW TO LOAD ... this shows the 3d display of a flint from ply model, slow to load as it is a large data file
        Just to show ply capability more quickly,
            <a href=",,/xyz/xyz.html?startdata=data/Lucy100k.ply">here is a simpler file</a>.
        </p>

        <h3><a href="http://programbits.co.uk/minster/minstv3.html">Winchester Minster (from UKSC)</a></h3>
        <p>This is not a direct part of the Mutator group work, but is related in various ways</p>

        <h3><a href="threek.html?fano">Fano</a></h3>
		<p>This implements a surface hunting technique in the graphics card to render implicit functions.
		The functions used are called Fano functions, with special interest in mathematics.</p>
        <h3><a href="threek.html?julia">Julia</a></h3>
		<p>This implements a surface hunting technique in the graphics card to render implicit functions.
		The functions used are called Julia functions, with special interest in mathematics.</p>
        <h3><a href="threek.html?texture">Implicit Texture</a></h3>
		<p>This implements a surface hunting technique in the graphics card to render implicit functions.
		The functions are the functions we usually use for 3d texturing of other forms.</p>

        <h2>From regression tests</h2>
        <dl id="regr"></dl>


    <script src="JS/searchString.js"></script>
    <script type="text/javascript">
        window.onload = () => {
            const s = Object.entries(searchReplace).map(x =>`
                <dt><a href="threek.html?${x[0]}">${x[0]}</a></dt>${x[1]}
            `)
            window.regr.innerHTML = s;
        }

        var islocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        async function nircmd(str) {
            if (islocalhost)
                return await fetch('runcmd.php', {headers: {cmd: `..\\nircmd\\nircmd.exe ${str}`}})
            console.error('cannot use nircmd when not in localhost', location.hostname, str);
        }
        async function restorewin() {
            console.log('restorewin was', innerWidth, innerHeight, outerWidth, outerHeight);
            if (outerWidth > 1920)  // this won't be sensible on high res screens
                await nircmd(`win setsize stitle "${document.title}" 0 0 1600, ${1600*1080/1920}`);
            await nircmd(`win settopmost stitle "${document.title}" 0`);
        }

        // keep it sensible after special case such as lima
        // window.addEventListener('focus', () => {console.log('focus'); restorewin()})
        window.addEventListener('load', () => {console.log('load'); restorewin()})
        window.addEventListener('resize', () => {console.log('resize'); restorewin()})

    </script>
    </body>
</html>
